<mat-card class="edit-user-form">
    <mat-card-content>
      <div *ngIf="errorMessage" class="error-message">
        {{ errorMessage }}
      </div>
  
      <form #editForm="ngForm" (ngSubmit)="onSubmit()" class="edit-form" *ngIf="user">
        <mat-form-field>
          <mat-label>Prénom</mat-label>
          <input matInput [(ngModel)]="user.firstName" name="firstName" required />
        </mat-form-field>
  
        <mat-form-field>
          <mat-label>Nom</mat-label>
          <input matInput [(ngModel)]="user.lastName" name="lastName" required />
        </mat-form-field>
  
        <mat-form-field>
          <mat-label>Email</mat-label>
          <input matInput [(ngModel)]="user.email" name="email" required />
        </mat-form-field>
  
        <mat-form-field>
          <mat-label>Mot de passe</mat-label>
          <input matInput [(ngModel)]="user.password" name="password" required type="password" />
        </mat-form-field>
  
        <mat-form-field>
          <mat-label>Rôle</mat-label>
          <mat-select [(ngModel)]="user.roles[0].id" name="roles" (ngModelChange)="onRoleChange($event)" required>
            <mat-option *ngFor="let role of roles" [value]="role.id">
              {{ role.roleName }}
            </mat-option>
          </mat-select>
        </mat-form-field>
  
        <mat-form-field>
          <mat-label>Centre</mat-label>
          <mat-select [(ngModel)]="user.centre.id" name="centre" [disabled]="isCentreDisabled" required>
            <mat-option *ngFor="let centre of centres" [value]="centre.id">
              {{ centre.centreName }} - {{ centre.city }}
            </mat-option>
          </mat-select>
        </mat-form-field>
  
        <mat-card-actions>
          <button mat-button (click)="onCancel()">
            <mat-icon>arrow_back</mat-icon> Cancel
          </button>
          <button mat-button type="submit" color="primary">
            <mat-icon>save</mat-icon> Save
          </button>
        </mat-card-actions>
      </form>
    </mat-card-content>
  </mat-card>